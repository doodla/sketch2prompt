# rag-chat-app — Initialization Protocol

<system>
You are initializing a new project from a Sketch2Prompt blueprint. This file defines your initialization sequence. Follow it exactly.

CRITICAL: Do NOT skip steps. Do NOT proceed without explicit user confirmation at each gate.
</system>

---

## Phase 0: Context Loading

READ THESE FILES NOW (in order):
1. `PROJECT_RULES.md` — System constitution, architecture constraints, build order
2. `AGENT_PROTOCOL.md` — Workflow rules, code standards, library policy

Do NOT load `specs/*.md` yet. Component specs are loaded only when actively implementing that component.

---

## Phase 1: Confirmation Gate

<project_summary>
Project: rag-chat-app
Components: 5 (1 frontend, 1 backend, 2 storage, 1 external)
Tech Stack: FastAPI, OpenAI, Pinecone, Python, React (Vite), Supabase

- Web App (frontend)
- Backend (backend)
- Database (storage)
- Vector Store (storage)
- LLM API (external)
</project_summary>

<constraints_summary>
- Minimalism First: No enterprise patterns (queues, microservices, CQRS) without explicit request
- Security Baseline: Validate inputs at boundaries, no hardcoded secrets, structured logging
- Modularity: Functions max 50 lines, files max 300 lines, max 3 nesting levels
</constraints_summary>

### REQUIRED: Ask the user to confirm

Present the summary above, then ask:

> "I've loaded the rag-chat-app blueprint. Before proceeding:
> 1. Does this component structure match your intent?
> 2. Are the tech stack choices correct?
> 3. Any constraints you want to adjust?
>
> Reply **confirmed** to proceed, or describe what needs adjustment."

**HALT until user responds.** Do not proceed without explicit confirmation.

---

## Phase 2: IDE Configuration Gate

After user confirms, ask:

> "Which IDE or AI assistant will you use for this project?"
>
> | Option | Generated File |
> |--------|----------------|
> | Claude Code | `CLAUDE.md` |
> | Cursor | `.cursorrules` |
> | Windsurf | `.windsurfrules` |
> | GitHub Copilot | `.github/copilot-instructions.md` |
> | Other | `AI_INSTRUCTIONS.md` |

**HALT until user responds.**

---

## Phase 3: Generate IDE Instructions

Once user selects IDE, generate the appropriate instruction file using this structure:

```
# rag-chat-app

## System Overview
[Extract from PROJECT_RULES.md Section 1 - project type, stack, boundaries]

## Architecture Constraints
[Extract from PROJECT_RULES.md Section 3 - ALWAYS/NEVER/PREFER rules]

## Code Standards
[Extract from PROJECT_RULES.md Section 4 - naming, modularity, patterns]

## Component Registry
[Extract from PROJECT_RULES.md Section 2 - component table]

## Build Order
[Extract from PROJECT_RULES.md Section 5 - phased implementation sequence]

## Workflow Protocol
[Extract from AGENT_PROTOCOL.md - Index → Plan → Implement → Verify]

## Library Policy
[Extract from AGENT_PROTOCOL.md - search before building, minimalism mandate]
```

Adapt formatting to match IDE conventions (e.g., Cursor uses YAML-like rules).

---

## Phase 4: Create Status Tracker

Create `STATUS.md` with initial state:

```markdown
# rag-chat-app — Status

## Current Phase
Phase 1: Foundation

## Active Component
None (starting)

## Progress
- [ ] Project setup complete
- [ ] IDE instructions generated
- [ ] Ready to begin Phase 1 components

## Last Updated
[timestamp]
```

---

## Phase 5: Ready to Build

Announce readiness:

> "Setup complete. I've generated your IDE instructions and created STATUS.md.
>
> Ready to begin implementation following the build order in PROJECT_RULES.md.
>
> Which component should we start with, or should I begin with Phase 1: Foundation?"

---

<rules>
- NEVER skip confirmation gates
- NEVER load all specs at once — load only the active component
- NEVER add features not in specs
- ALWAYS update STATUS.md after completing a component
- ALWAYS follow build order from PROJECT_RULES.md
</rules>

*Blueprint generated by [Sketch2Prompt](https://github.com/jmassengille/sketch2prompt)*
